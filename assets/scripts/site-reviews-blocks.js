/*! For license information please see site-reviews-blocks.js.LICENSE.txt */
!function(){"use strict";var e={367:function(e,t,n){var r=n(424),s=60103,a=60106;var i=60109,o=60110,l=60112;var c=60115,u=60116;if("function"==typeof Symbol&&Symbol.for){var p=Symbol.for;s=p("react.element"),a=p("react.portal"),p("react.fragment"),p("react.strict_mode"),p("react.profiler"),i=p("react.provider"),o=p("react.context"),l=p("react.forward_ref"),p("react.suspense"),c=p("react.memo"),u=p("react.lazy")}var d="function"==typeof Symbol&&Symbol.iterator;function m(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var f={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g={};function v(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||f}function y(){}function h(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||f}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error(m(85));this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=v.prototype;var b=h.prototype=new y;b.constructor=h,r(b,v.prototype),b.isPureReactComponent=!0;var w={current:null},_=Object.prototype.hasOwnProperty,x={key:!0,ref:!0,__self:!0,__source:!0};function k(e,t,n){var r,a={},i=null,o=null;if(null!=t)for(r in void 0!==t.ref&&(o=t.ref),void 0!==t.key&&(i=""+t.key),t)_.call(t,r)&&!x.hasOwnProperty(r)&&(a[r]=t[r]);var l=arguments.length-2;if(1===l)a.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];a.children=c}if(e&&e.defaultProps)for(r in l=e.defaultProps)void 0===a[r]&&(a[r]=l[r]);return{$$typeof:s,type:e,key:i,ref:o,props:a,_owner:w.current}}function E(e){return"object"==typeof e&&null!==e&&e.$$typeof===s}var O=/\/+/g;function S(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function C(e,t,n,r,i){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var l=!1;if(null===e)l=!0;else switch(o){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case s:case a:l=!0}}if(l)return i=i(l=e),e=""===r?"."+S(l,0):r,Array.isArray(i)?(n="",null!=e&&(n=e.replace(O,"$&/")+"/"),C(i,t,n,"",(function(e){return e}))):null!=i&&(E(i)&&(i=function(e,t){return{$$typeof:s,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(i,n+(!i.key||l&&l.key===i.key?"":(""+i.key).replace(O,"$&/")+"/")+e)),t.push(i)),1;if(l=0,r=""===r?".":r+":",Array.isArray(e))for(var c=0;c<e.length;c++){var u=r+S(o=e[c],c);l+=C(o,t,n,u,i)}else if(u=function(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"==typeof u)for(e=u.call(e),c=0;!(o=e.next()).done;)l+=C(o=o.value,t,n,u=r+S(o,c++),i);else if("object"===o)throw t=""+e,Error(m(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return l}function j(e,t,n){if(null==e)return e;var r=[],s=0;return C(e,r,"","",(function(e){return t.call(n,e,s++)})),r}function P(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}if(1===e._status)return e._result;throw e._result}var R={current:null};function L(){var e=R.current;if(null===e)throw Error(m(321));return e}t.createElement=k},294:function(e,t,n){e.exports=n(367)},424:function(e){var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;function s(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}()?Object.assign:function(e,a){for(var i,o,l=s(e),c=1;c<arguments.length;c++){for(var u in i=Object(arguments[c]))n.call(i,u)&&(l[u]=i[u]);if(t){o=t(i);for(var p=0;p<o.length;p++)r.call(i,o[p])&&(l[o[p]]=i[o[p]])}}return l}}},t={};function n(r){var s=t[r];if(void 0!==s)return s.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}!function(){var e=n(294);function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function r(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,a=[],i=!0,o=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){o=!0,s=e}finally{try{i||null==n.return||n.return()}finally{if(o)throw s}}return a}}(e,n)||function(e,n){if(e){if("string"==typeof e)return t(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?t(e,n):void 0}}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var s=wp.components.CheckboxControl,a=wp.element.useState,i=function(t,n,i){var o=[];return jQuery.each(t,(function(t,l){var c=r(a(!1),2),u=c[0],p=c[1],d=n.split(",").indexOf(t)>-1;o.push((0,e.createElement)(s,{key:"hide-".concat(t),className:"glsr-checkbox-control",checked:d||u,label:l,onChange:function(e){p(e),n=_.without(_.without(n.split(","),""),t),e&&n.push(t),i({hide:n.toString()})}}))})),o},o=wp.i18n._x,l=[{label:"- "+o("Select","admin-text","site-reviews")+" -",value:""},{label:"- "+o("Specific Post ID","admin-text","site-reviews")+" -",value:"custom"},{label:o("The Current Page","admin-text","site-reviews"),value:"post_id"},{label:o("The Parent Page","admin-text","site-reviews"),value:"parent_id"}],c=wp.i18n._x,u=[],p={label:"- "+c("Select","admin-text","site-reviews")+" -",value:""},d={label:"- "+c("Multiple Categories","admin-text","site-reviews")+" -",value:"custom"};wp.apiFetch({path:"/site-reviews/v1/categories?per_page=50"}).then((function(e){u.push(p),u.push(d),jQuery.each(e,(function(e,t){u.push({label:"".concat(t.name," (").concat(t.slug,")"),value:t.id})}))}));var m=u,f=wp.i18n._x,g=[{label:"- "+f("Select","admin-text","site-reviews")+" -",value:""},{label:"- "+f("Specific User ID","admin-text","site-reviews")+" -",value:"custom"},{label:f("The Logged-in user","admin-text","site-reviews"),value:"user_id"},{label:f("The Page author","admin-text","site-reviews"),value:"author_id"},{label:f("The Profile user (BuddyPress/Ultimate Member)","admin-text","site-reviews"),value:"profile_id"}],v=function(e,t,n){GLSR.Event.trigger(t,e,n)};function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var b=function(e,t){var n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){y(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e.raw);return n.hide&&(n.hide=n.hide.join()),n.rating&&(n.rating=Number(n.rating)),~["","post_id","parent_id"].indexOf(n.assigned_posts)?t.assign_to?n.assign_to=n.assigned_posts:n.assigned_to=n.assigned_posts:t.assign_to?n.assign_to="custom":n.assigned_to="custom",n.user=n.assigned_users,~_.findIndex(g,(function(e){return e.value==n.assigned_users}))||(n.user="custom"),n.category=n.assigned_terms,~_.findIndex(m,(function(e){return e.value==n.assigned_terms}))||(n.category="custom"),n};function w(){return w=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},w.apply(this,arguments)}function x(e,t){if(null==e)return{};var n,r,s=function(e,t){if(null==e)return{};var n,r,s={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(s[n]=e[n]);return s}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}var k=["children","custom_value","help","label","onChange","options","className","hideLabelFromVision","selectedValue"],E=(wp.i18n._x,wp.components),O=E.BaseControl,S=(E.TextControl,lodash.isEmpty),C=wp.compose.useInstanceId;function j(t){var n=t.children,r=t.custom_value,s=void 0===r?"custom":r,a=t.help,i=t.label,o=t.onChange,l=t.options,c=void 0===l?[]:l,u=t.className,p=t.hideLabelFromVision,d=(t.selectedValue,x(t,k)),m=C(j),f="inspector-select-control-".concat(m),g=d.value;return!S(c)&&(0,e.createElement)(O,{label:i,hideLabelFromVision:p,id:f,help:a,className:u},(0,e.createElement)("select",w({id:f,className:"components-select-control__input",onChange:function(e){o(e.target.value)},"aria-describedby":a?"".concat(f,"__help"):void 0},d),c.map((function(t,n){return(0,e.createElement)("option",{key:"".concat(t.label,"-").concat(t.value,"-").concat(n),value:t.value,disabled:t.disabled},t.label)}))),s===g&&n)}var P=wp.element,R=P.useRef,L=P.useState,I=P.useEffect;function A(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function B(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?A(Object(n),!0).forEach((function(t){y(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):A(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var N=lodash,T=N.debounce,D=N.isEqual,G=N.reduce,M=wp.compose.usePrevious,F=wp.element,U=F.RawHTML,$=F.useEffect,z=F.useRef,V=F.useState,q=wp.i18n,Q=q.__,Y=q.sprintf,H=wp.apiFetch,J=wp.url.addQueryArgs,X=wp.components,K=X.Placeholder,W=X.Spinner,Z=wp.blocks.getBlockType;function ee(e,t,n){var r,s,a,i,o,l,c=(r=function(){return T(e,t,n)},s=[e,t,n],a=L((function(){return{inputs:s,result:r()}}))[0],i=R(!0),o=R(a),l=i.current||Boolean(s&&o.current.inputs&&function(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}(s,o.current.inputs))?o.current:{inputs:s,result:r()},I((function(){i.current=!1,o.current=l}),[l]),l.result);return $((function(){return function(){return c.cancel()}}),[c]),c}function te(t){var n=t.className;return(0,e.createElement)(K,{className:n},Q("Block rendered as empty."))}function ne(t){var n=t.response,r=t.className,s=Y(Q("Error loading block: %s"),n.errorMsg);return(0,e.createElement)(K,{className:r},s)}function re(t){var n=t.className;return(0,e.createElement)(K,{className:n},(0,e.createElement)(W,null))}function se(t){var n=t.attributes,s=t.block,a=t.className,i=t.httpMethod,o=void 0===i?"GET":i,l=t.urlQueryArgs,c=t.EmptyResponsePlaceholder,u=void 0===c?te:c,p=t.ErrorResponsePlaceholder,d=void 0===p?ne:p,m=t.LoadingResponsePlaceholder,f=void 0===m?re:m,g=z(!0),v=z(),y=r(V(null),2),h=y[0],b=y[1],_=M(t);function x(){var e;if(g.current){null!==h&&b(null);var t=null!==(e=n&&function(e,t){var n=Z(e);if(void 0===n)throw new Error("Block type '".concat(e,"' is not registered."));return G(n.attributes,(function(e,n,r){var s=t[r];return void 0!==s?e[r]=s:n.hasOwnProperty("default")&&(e[r]=n.default),-1!==["node","children"].indexOf(n.source)&&("string"==typeof e[r]?e[r]=[e[r]]:Array.isArray(e[r])||(e[r]=[])),e}),{})}(s,n))&&void 0!==e?e:null,r="POST"===o,a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return J("/wp/v2/block-renderer/".concat(e),B(B({context:"edit"},null!==t?{attributes:t}:{}),n))}(s,r?null:t,l),i=r?{attributes:t}:null,c=v.current=H({path:a,data:i,method:r?"POST":"GET"}).then((function(e){g.current&&c===v.current&&e&&b(e.rendered)})).catch((function(e){g.current&&c===v.current&&b({error:!0,errorMsg:e.message})}));return c}}var k=ee(x,500);return $((function(){return function(){g.current=!1}}),[]),$((function(){void 0===_?x():D(_,t)||k()})),$((function(){t.onRender&&t.onRender(h,s,n)}),[h]),""===h?(0,e.createElement)(u,t):h?h.error?(0,e.createElement)(d,w({response:h},t)):(0,e.createElement)(U,{className:a},h):(0,e.createElement)(f,t)}var ae=wp.i18n._x,ie=wp.blocks,oe=ie.createBlock,le=ie.registerBlockType,ce=wp.blockEditor,ue=ce.InspectorAdvancedControls,pe=ce.InspectorControls,de=wp.components,me=de.Icon,fe=de.PanelBody,ge=(de.SelectControl,de.TextControl),ve=GLSR_Block.nameprefix+"/form",ye={assign_to:{default:"",type:"string"},assigned_posts:{default:"",type:"string"},assigned_terms:{default:"",type:"string"},assigned_users:{default:"",type:"string"},category:{default:"",type:"string"},className:{default:"",type:"string"},hide:{default:"",type:"string"},id:{default:"",type:"string"},user:{default:"",type:"string"}},he=(le(ve,{attributes:ye,category:GLSR_Block.nameprefix,description:ae("Display a review form.","admin-text","site-reviews"),edit:function(t){var n=t.attributes,r=n.assign_to,s=n.assigned_posts,a=n.assigned_terms,o=n.assigned_users,c=n.category,u=n.hide,p=n.id,d=n.user,f=(t.className,t.setAttributes),y={assign_to:(0,e.createElement)(j,{key:"assigned_posts",label:ae("Assign Reviews to a Page","admin-text","site-reviews"),onChange:function(e){return f({assign_to:e,assigned_posts:"custom"===e?s:""})},options:l,value:r},(0,e.createElement)(ge,{key:"custom_assigned_posts",className:"glsr-base-conditional-control",help:ae("Separate values with a comma.","admin-text","site-reviews"),onChange:function(e){return f({assigned_posts:e})},placeholder:ae("Enter the Post IDs","admin-text","site-reviews"),type:"text",value:s})),category:(0,e.createElement)(j,{key:"assigned_terms",label:ae("Assign Reviews to a Category","admin-text","site-reviews"),onChange:function(e){return f({category:e,assigned_terms:"custom"===e?a:""})},options:m,value:c},(0,e.createElement)(ge,{key:"custom_assigned_terms",className:"glsr-base-conditional-control",help:ae("Separate values with a comma.","admin-text","site-reviews"),onChange:function(e){return f({assigned_terms:e})},placeholder:ae("Enter the Category IDs or slugs","admin-text","site-reviews"),type:"text",value:a})),user:(0,e.createElement)(j,{key:"assigned_users",label:ae("Assign Reviews to a User","admin-text","site-reviews"),onChange:function(e){return f({user:e,assigned_users:"custom"===e?o:""})},options:g,value:d},(0,e.createElement)(ge,{key:"custom_assigned_users",className:"glsr-base-conditional-control",help:ae("Separate values with a comma.","admin-text","site-reviews"),onChange:function(e){return f({assigned_users:e})},placeholder:ae("Enter the User IDs or usernames","admin-text","site-reviews"),type:"text",value:o})),hide:i(GLSR_Block.hideoptions.site_reviews_form,u,f)},h={panel_settings:(0,e.createElement)(fe,{title:ae("Settings","admin-text","site-reviews")},Object.values(wp.hooks.applyFilters(GLSR_Block.nameprefix+".form.InspectorControls",y,t)))},b={id:(0,e.createElement)(ge,{label:ae("Custom ID","admin-text","site-reviews"),onChange:function(e){return f({id:e})},value:p})};return[(0,e.createElement)(pe,null,Object.values(wp.hooks.applyFilters(GLSR_Block.nameprefix+".form.InspectorPanels",h,t))),(0,e.createElement)(ue,null,Object.values(wp.hooks.applyFilters(GLSR_Block.nameprefix+".form.InspectorAdvancedControls",b,t))),(0,e.createElement)(se,{block:ve,attributes:t.attributes,onRender:v})]},example:{},icon:function(){return(0,e.createElement)(me,{icon:(0,e.createElement)("svg",null,(0,e.createElement)("path",{d:"M12 2a.36.36 0 0 1 .321.199l2.968 6.01a.36.36 0 0 0 .268.196l6.634.963a.36.36 0 0 1 .199.612l-4.8 4.676a.36.36 0 0 0-.103.318l1.133 6.605a.36.36 0 0 1-.521.378l-5.933-3.12a.36.36 0 0 0-.334 0l-5.934 3.118a.36.36 0 0 1-.519-.377l1.133-6.605a.36.36 0 0 0-.103-.318L1.609 9.981a.36.36 0 0 1 .201-.612l6.632-.963a.36.36 0 0 0 .27-.196l2.967-6.01A.36.36 0 0 1 12 2zm0 2.95v12.505c.492 0 .982.117 1.43.35l3.328 1.745-.636-3.694c-.171-.995.16-2.009.885-2.713l2.693-2.617-3.724-.539c-1.001-.145-1.866-.772-2.313-1.675L12 4.95zM21 1v.963h-3.479v1.683h3.272v.963h-3.272V7.3h-1.017V1H21z"}))})},keywords:["reviews","form"],save:function(){return null},title:ae("Review Form","admin-text","site-reviews"),transforms:{from:[{type:"block",blocks:["core/legacy-widget"],isMatch:function(e){var t=e.idBase,n=e.instance;return"glsr_site-reviews-form"===t&&!(null==n||!n.raw)},transform:function(e){var t=e.instance;return oe(ve,b(t,ye))}}]}}),wp.i18n._x),be=[{label:"- "+he("Select","admin-text","site-reviews")+" -",value:""},{label:he("Terms were accepted","admin-text","site-reviews"),value:"true"},{label:he("Terms were not accepted","admin-text","site-reviews"),value:"false"}],we={label:"- "+(0,wp.i18n._x)("Select","admin-text","site-reviews")+" -",value:""},_e=[];wp.apiFetch({path:"/site-reviews/v1/types?per_page=50"}).then((function(e){e.length<2||(_e.push(we),jQuery.each(e,(function(e,t){_e.push({label:t.name,value:t.id})})))}));var xe=_e,ke=wp.i18n._x,Ee=wp.blocks,Oe=Ee.createBlock,Se=Ee.registerBlockType,Ce=wp.blockEditor,je=Ce.InspectorAdvancedControls,Pe=Ce.InspectorControls,Re=wp.components,Le=Re.Icon,Ie=Re.PanelBody,Ae=Re.RangeControl,Be=Re.SelectControl,Ne=Re.TextControl,Te=Re.ToggleControl,De=GLSR_Block.nameprefix+"/reviews",Ge={assigned_to:{default:"",type:"string"},assigned_posts:{default:"",type:"string"},assigned_terms:{default:"",type:"string"},assigned_users:{default:"",type:"string"},category:{default:"",type:"string"},className:{default:"",type:"string"},display:{default:5,type:"number"},hide:{default:"",type:"string"},id:{default:"",type:"string"},pagination:{default:"",type:"string"},post_id:{default:"",type:"string"},rating:{default:0,type:"number"},schema:{default:!1,type:"boolean"},terms:{default:"",type:"string"},type:{default:"local",type:"string"},user:{default:"",type:"string"}};wp.hooks.addFilter("blocks.getBlockAttributes",De,(function(e,t,n,r){return r&&r.count&&(e.display=r.count),e}));Se(De,{attributes:Ge,category:GLSR_Block.nameprefix,description:ke("Display your most recent reviews.","admin-text","site-reviews"),edit:function(t){t.attributes.post_id=jQuery("#post_ID").val();var n=t.attributes,r=n.assigned_to,s=n.assigned_posts,a=n.assigned_terms,o=n.assigned_users,c=n.category,u=n.display,p=n.hide,d=n.id,f=n.pagination,y=n.rating,h=n.schema,b=n.terms,w=n.type,_=n.user,x=(t.className,t.setAttributes),k={assigned_to:(0,e.createElement)(j,{key:"assigned_posts",label:ke("Limit Reviews to an Assigned Page","admin-text","site-reviews"),onChange:function(e){return x({assigned_to:e,assigned_posts:"custom"===e?s:""})},options:l,value:r},(0,e.createElement)(Ne,{key:"custom_assigned_posts",className:"glsr-base-conditional-control",help:ke("Separate values with a comma.","admin-text","site-reviews"),onChange:function(e){return x({assigned_posts:e})},placeholder:ke("Enter the Post IDs","admin-text","site-reviews"),type:"text",value:s})),category:(0,e.createElement)(j,{key:"assigned_terms",label:ke("Limit Reviews to an Assigned Category","admin-text","site-reviews"),onChange:function(e){return x({category:e,assigned_terms:"custom"===e?a:""})},options:m,value:c},(0,e.createElement)(Ne,{key:"custom_assigned_terms",className:"glsr-base-conditional-control",help:ke("Separate values with a comma.","admin-text","site-reviews"),onChange:function(e){return x({assigned_terms:e})},placeholder:ke("Enter the Category IDs or slugs","admin-text","site-reviews"),type:"text",value:a})),user:(0,e.createElement)(j,{key:"assigned_users",label:ke("Limit Reviews to an Assigned User","admin-text","site-reviews"),onChange:function(e){return x({user:e,assigned_users:"custom"===e?o:""})},options:g,value:_},(0,e.createElement)(Ne,{key:"custom_assigned_users",className:"glsr-base-conditional-control",help:ke("Separate values with a comma.","admin-text","site-reviews"),onChange:function(e){return x({assigned_users:e})},placeholder:ke("Enter the User IDs or usernames","admin-text","site-reviews"),type:"text",value:o})),terms:(0,e.createElement)(Be,{key:"terms",label:ke("Limit Reviews to terms","admin-text","site-reviews"),onChange:function(e){return x({terms:e})},options:be,value:b}),pagination:(0,e.createElement)(Be,{key:"pagination",label:ke("Enable Pagination","admin-text","site-reviews"),onChange:function(e){return x({pagination:e})},options:[{label:"- "+ke("Select","admin-text","site-reviews")+" -",value:""},{label:ke("Yes (AJAX load more)","admin-text","site-reviews"),value:"loadmore"},{label:ke("Yes (AJAX pagination)","admin-text","site-reviews"),value:"ajax"},{label:ke("Yes (page reload)","admin-text","site-reviews"),value:"true"}],value:f}),type:(0,e.createElement)(Be,{key:"type",label:ke("Limit the Type of Reviews","admin-text","site-reviews"),onChange:function(e){return x({type:e})},options:xe,value:w}),display:(0,e.createElement)(Ae,{key:"display",label:ke("Reviews Per Page","admin-text","site-reviews"),min:1,max:50,onChange:function(e){return x({display:e})},value:u}),rating:(0,e.createElement)(Ae,{key:"rating",label:ke("Minimum Rating","admin-text","site-reviews"),min:0,max:GLSR_Block.maxrating,onChange:function(e){return x({rating:e})},value:y}),schema:(0,e.createElement)(Te,{key:"schema",checked:h,help:ke("The schema should only be enabled once per page.","admin-text","site-reviews"),label:ke("Enable the schema?","admin-text","site-reviews"),onChange:function(e){return x({schema:e})}}),hide:i(GLSR_Block.hideoptions.site_reviews,p,x)},E={panel_settings:(0,e.createElement)(Ie,{title:ke("Settings","admin-text","site-reviews")},Object.values(wp.hooks.applyFilters(GLSR_Block.nameprefix+".reviews.InspectorControls",k,t)))},O={id:(0,e.createElement)(Ne,{label:ke("Custom ID","admin-text","site-reviews"),onChange:function(e){return x({id:e})},value:d})};return[(0,e.createElement)(Pe,null,Object.values(wp.hooks.applyFilters(GLSR_Block.nameprefix+".reviews.InspectorPanels",E,t))),(0,e.createElement)(je,null,Object.values(wp.hooks.applyFilters(GLSR_Block.nameprefix+".reviews.InspectorAdvancedControls",O,t))),(0,e.createElement)(se,{block:De,attributes:t.attributes,onRender:v})]},example:{attributes:{display:2,pagination:"ajax",rating:0}},icon:function(){return(0,e.createElement)(Le,{icon:(0,e.createElement)("svg",null,(0,e.createElement)("path",{d:"M12 2a.36.36 0 0 1 .321.199l2.968 6.01a.36.36 0 0 0 .268.196l6.634.963a.36.36 0 0 1 .199.612l-4.8 4.676a.36.36 0 0 0-.103.318l1.133 6.605a.36.36 0 0 1-.521.378l-5.933-3.12a.36.36 0 0 0-.334 0l-5.934 3.118a.36.36 0 0 1-.519-.377l1.133-6.605a.36.36 0 0 0-.103-.318L1.609 9.981a.36.36 0 0 1 .201-.612l6.632-.963a.36.36 0 0 0 .27-.196l2.967-6.01A.36.36 0 0 1 12 2zm0 2.95v12.505c.492 0 .982.117 1.43.35l3.328 1.745-.636-3.694c-.171-.995.16-2.009.885-2.713l2.693-2.617-3.724-.539c-1.001-.145-1.866-.772-2.313-1.675L12 4.95zM18.768 1C20.217 1 21 1.648 21 2.823c0 1.071-.819 1.782-2.102 1.827L20.973 7.3h-1.26L17.706 4.65h-.513V7.3h-1.017V1h2.592zm-.027.954h-1.548v1.773h1.548c.819 0 1.202-.297 1.202-.905 0-.599-.405-.869-1.202-.869z"}))})},keywords:["reviews"],save:function(){return null},title:ke("Latest Reviews","admin-text","site-reviews"),transforms:{from:[{type:"block",blocks:["core/legacy-widget"],isMatch:function(e){var t=e.idBase,n=e.instance;return"glsr_site-reviews"===t&&!(null==n||!n.raw)},transform:function(e){var t=e.instance;return Oe(De,b(t,Ge))}}]}});var Me=wp.i18n._x,Fe=wp.blocks,Ue=Fe.createBlock,$e=Fe.registerBlockType,ze=wp.blockEditor,Ve=ze.InspectorAdvancedControls,qe=ze.InspectorControls,Qe=wp.components,Ye=Qe.Icon,He=Qe.PanelBody,Je=Qe.RangeControl,Xe=Qe.SelectControl,Ke=Qe.TextControl,We=Qe.ToggleControl,Ze=GLSR_Block.nameprefix+"/summary",et={assigned_to:{default:"",type:"string"},assigned_posts:{default:"",type:"string"},assigned_terms:{default:"",type:"string"},assigned_users:{default:"",type:"string"},category:{default:"",type:"string"},className:{default:"",type:"string"},hide:{default:"",type:"string"},post_id:{default:"",type:"string"},rating:{default:0,type:"number"},schema:{default:!1,type:"boolean"},terms:{default:"",type:"string"},type:{default:"local",type:"string"},user:{default:"",type:"string"}},tt=($e(Ze,{attributes:et,category:GLSR_Block.nameprefix,description:Me("Display a summary of your reviews.","admin-text","site-reviews"),edit:function(t){t.attributes.post_id=jQuery("#post_ID").val();var n=t.attributes,r=n.assigned_to,s=n.assigned_posts,a=n.assigned_terms,o=n.assigned_users,c=n.category,u=(n.display,n.hide),p=n.id,d=(n.pagination,n.rating),f=n.schema,y=n.terms,h=n.type,b=n.user,w=(t.className,t.setAttributes),_={assigned_to:(0,e.createElement)(j,{key:"assigned_posts",label:Me("Limit Reviews to an Assigned Page","admin-text","site-reviews"),onChange:function(e){return w({assigned_to:e,assigned_posts:"custom"===e?s:""})},options:l,value:r},(0,e.createElement)(Ke,{key:"custom_assigned_posts",className:"glsr-base-conditional-control",help:Me("Separate values with a comma.","admin-text","site-reviews"),onChange:function(e){return w({assigned_posts:e})},placeholder:Me("Enter the Post IDs","admin-text","site-reviews"),type:"text",value:s})),category:(0,e.createElement)(j,{key:"assigned_terms",label:Me("Limit Reviews to an Assigned Category","admin-text","site-reviews"),onChange:function(e){return w({category:e,assigned_terms:"custom"===e?a:""})},options:m,value:c},(0,e.createElement)(Ke,{key:"custom_assigned_terms",className:"glsr-base-conditional-control",help:Me("Separate values with a comma.","admin-text","site-reviews"),onChange:function(e){return w({assigned_terms:e})},placeholder:Me("Enter the Category IDs or slugs","admin-text","site-reviews"),type:"text",value:a})),user:(0,e.createElement)(j,{key:"assigned_users",label:Me("Limit Reviews to an Assigned User","admin-text","site-reviews"),onChange:function(e){return w({user:e,assigned_users:"custom"===e?o:""})},options:g,value:b},(0,e.createElement)(Ke,{key:"custom_assigned_users",className:"glsr-base-conditional-control",help:Me("Separate values with a comma.","admin-text","site-reviews"),onChange:function(e){return w({assigned_users:e})},placeholder:Me("Enter the User IDs or usernames","admin-text","site-reviews"),type:"text",value:o})),terms:(0,e.createElement)(Xe,{key:"terms",label:Me("Limit Reviews to terms","admin-text","site-reviews"),onChange:function(e){return w({terms:e})},options:be,value:y}),type:(0,e.createElement)(Xe,{key:"type",label:Me("Limit the Type of Reviews","admin-text","site-reviews"),onChange:function(e){return w({type:e})},options:xe,value:h}),rating:(0,e.createElement)(Je,{key:"rating",label:Me("Minimum Rating","admin-text","site-reviews"),min:0,max:GLSR_Block.maxrating,onChange:function(e){return w({rating:e})},value:d}),schema:(0,e.createElement)(We,{key:"schema",checked:f,help:Me("The schema should only be enabled once per page.","admin-text","site-reviews"),label:Me("Enable the schema?","admin-text","site-reviews"),onChange:function(e){return w({schema:e})}}),hide:i(GLSR_Block.hideoptions.site_reviews_summary,u,w)},x={panel_settings:(0,e.createElement)(He,{title:Me("Settings","admin-text","site-reviews")},Object.values(wp.hooks.applyFilters(GLSR_Block.nameprefix+".summary.InspectorControls",_,t)))},k={id:(0,e.createElement)(Ke,{label:Me("Custom ID","admin-text","site-reviews"),onChange:function(e){return w({id:e})},value:p})};return[(0,e.createElement)(qe,null,Object.values(wp.hooks.applyFilters(GLSR_Block.nameprefix+".summary.InspectorPanels",x,t))),(0,e.createElement)(Ve,null,Object.values(wp.hooks.applyFilters(GLSR_Block.nameprefix+".summary.InspectorAdvancedControls",k,t))),(0,e.createElement)(se,{block:Ze,attributes:t.attributes,onRender:v})]},example:{},icon:function(){return(0,e.createElement)(Ye,{icon:(0,e.createElement)("svg",null,(0,e.createElement)("path",{d:"M12 2a.36.36 0 0 1 .321.199l2.968 6.01a.36.36 0 0 0 .268.196l6.634.963a.36.36 0 0 1 .199.612l-4.8 4.676a.36.36 0 0 0-.103.318l1.133 6.605a.36.36 0 0 1-.521.378l-5.933-3.12a.36.36 0 0 0-.334 0l-5.934 3.118a.36.36 0 0 1-.519-.377l1.133-6.605a.36.36 0 0 0-.103-.318L1.609 9.981a.36.36 0 0 1 .201-.612l6.632-.963a.36.36 0 0 0 .27-.196l2.967-6.01A.36.36 0 0 1 12 2zm0 2.95v12.505c.492 0 .982.117 1.43.35l3.328 1.745-.636-3.694c-.171-.995.16-2.009.885-2.713l2.693-2.617-3.724-.539c-1.001-.145-1.866-.772-2.313-1.675L12 4.95zM18.651 1a3.95 3.95 0 0 1 2.277.68l-.518.824c-.536-.342-1.13-.54-1.769-.54-.842 0-1.418.365-1.418.941 0 .522.491.725 1.31.842l.437.059c1.022.14 2.03.563 2.03 1.733 0 1.283-1.161 1.985-2.525 1.985-.855 0-1.881-.284-2.534-.846l.554-.81c.432.396 1.247.693 1.976.693.824 0 1.472-.351 1.472-.932 0-.495-.495-.725-1.418-.851l-.491-.068c-.936-.131-1.868-.572-1.868-1.742C16.167 1.702 17.287 1 18.651 1z"}))})},keywords:["reviews","summary"],save:function(){return null},title:Me("Rating Summary","admin-text","site-reviews"),transforms:{from:[{type:"block",blocks:["core/legacy-widget"],isMatch:function(e){var t=e.idBase,n=e.instance;return"glsr_site-reviews-summary"===t&&!(null==n||!n.raw)},transform:function(e){var t=e.instance;return Ue(Ze,b(t,et))}}]}}),{}),nt=function(e,t){var n=tt[e]||[],r=[];t&&[].forEach.call(n,(function(e){t!==e.fn&&t!==e.fn.once&&r.push(e)})),r.length?tt[e]=r:delete tt[e]},rt=function(e,t,n){(tt[e]||(tt[e]=[])).push({fn:t,context:n})},st={events:tt,off:nt,on:rt,once:function(e,t,n){var r=arguments,s=function s(){nt(e,s),t.apply(n,r)};s.once=t,rt(e,s,n)},trigger:function(e){var t=[].slice.call(arguments,1),n=(tt[e]||[]).slice();[].forEach.call(n,(function(e){return e.fn.apply(e.context,t)}))}};window.hasOwnProperty("GLSR")||(window.GLSR={Event:st})}()}();